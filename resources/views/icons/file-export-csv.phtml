<?php

/**
 * webtrees - clippings cart enhanced
 *
 * Copyright (C) 2024 huhwt. All rights reserved.
 *
 */

use Fisharebest\Webtrees\GedcomRecord;
use Fisharebest\Webtrees\I18N;
use Fisharebest\Webtrees\Registry;
use Fisharebest\Webtrees\View;
use Fisharebest\Webtrees\Tree;

use HuHwt\WebtreesMods\ClippingsCartEnhanced\ClippingsCartEnhancedModule;

/**
 * @var string              $module
 * @var array<GedcomRecord> $types
 * @var array<>             $recordTypes
 * @var string              $title
 * @var string              $header_recs
 * @var string              $header_acts
 * @var array<>             $cartActions
 * @var string              $cArouteAjax
 * @var array<>             $cartXREFs
 * @var Tree                $tree
 */

$title = I18N::translate('Download plain XREF list to CSV-file') . ' - ' . I18N::translate('only visible') . ' [INDI,FAM]';

?>

<div class="input-group cce-input-group">
    <?php $id = Registry::idFactory()->id(); ?>
    <button id="CCE_btnExport_CSV" class="btn btn-secondary cce-btn" type="button" data-bs-toggle="modal" data-bs-backdrop="static" data-bs-target="#wt-ajax-modal" data-wt-href="<?= e(route(ClippingsCartEnhancedModule::class, ['tree' => $tree->name(), 'action' => 'CSVsaveAjax'])) ?>" data-wt-select-id="<?= $id ?>" title="<?= $title ?>" disabled>
        <span class="cce-icon-group wt-icon-file-export">
            <svg class="fa-solid fa-file-import fa-fw cce-fw" aria-hidden="true" focusable="false" data-prefix="far" data-icon="file-import" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1084 512" data-fa-i2svg="">
                <path fill="currentColor" d="m524.07,220.37c9.14,0 18.25,3.17 24.23,10.57c6.1,7.36 10.12,15.88 10.12,25.33c0,9.51 -3.04,19.05 -10.12,25.29c-7.05,6.37 -15.21,10.57 -24.23,10.57l-4.02,0l-31.44,188.1c-0.95,8.42 -5.09,15.91 -12.15,21.13c-7.08,5.22 -14.14,8.39 -22.3,8.39l-347.92,0c-8.07,0 -16.19,-3.17 -22.3,-8.39c-6.07,-5.35 -10.09,-12.71 -12.18,-21.13l-31.28,-187.97l-4.05,0c-9.11,0 -18.25,-3.2 -24.23,-10.57c-5.98,-7.4 -10.21,-15.91 -10.21,-25.33c0,-9.41 3.04,-19.08 10.12,-25.33c7.05,-6.34 15.21,-10.53 24.23,-10.53c0.09,-0.13 487.72,-0.13 487.72,-0.13zm-390.56,226.14c5.12,0 9.14,-2.15 12.18,-6.34c3.04,-4.23 5.12,-8.42 4.02,-12.74l-8.04,-118.27c0,-5.35 -2.05,-9.54 -6.07,-12.71c-4.05,-3.17 -8.07,-5.35 -12.18,-4.19c-5.12,0 -9.14,2.15 -12.18,6.34c-3.07,4.19 -5.12,8.42 -4.02,12.71l9.11,118.4c0,4.23 2.09,8.42 6.1,11.59c3.04,3.17 7.05,5.35 12.18,5.35c-0.12,-0.13 -1.1,-0.13 -1.1,-0.13zm112.28,-17.93l0,-117.28c0,-5.31 -2.05,-9.54 -5.09,-12.71c-3.07,-3.17 -7.08,-5.31 -12.18,-5.31c-5.12,0 -9.14,2.15 -12.18,5.31c-3.04,3.17 -5.12,7.4 -5.12,12.71l0,118.4c0,5.35 2.09,9.54 5.12,12.74c3.04,3.17 7.05,5.31 12.18,5.31c5.09,0 9.11,-2.15 12.18,-5.31c3.13,-3.3 5.09,-8.52 5.09,-13.86zm104.25,0l0,-117.28c0,-5.31 -2.05,-9.54 -5.12,-12.71c-3.04,-3.17 -7.05,-5.31 -12.18,-5.31c-5.09,0 -9.11,2.15 -12.18,5.31c-3.04,3.17 -5.09,7.4 -5.09,12.71l0,118.4c0,5.35 2.05,9.54 5.09,12.74c3.07,3.17 7.08,5.31 12.18,5.31c5.12,0 9.14,-2.15 12.18,-5.31c3.16,-3.3 5.12,-8.52 5.12,-13.86zm95.11,2.15l9.14,-118.4c0,-5.31 -0.98,-9.54 -4.05,-12.71c-3.04,-3.17 -7.05,-6.34 -12.15,-6.34c-5.12,0 -9.14,0.99 -12.18,4.19c-3.07,3.17 -6.1,7.36 -6.1,12.71l-9.14,118.4c0,5.35 0.98,9.54 4.05,12.71c3.04,3.17 7.05,5.35 12.15,5.35l0.98,0c4.05,0 8.07,-2.18 12.18,-5.35c3.16,-2.15 5.12,-6.34 5.12,-10.57zm-313.6,-345.56l-25.3,117.28l-35.45,0l27.3,-125.8c3.04,-16.91 11.07,-30.64 24.23,-41.21c13.16,-10.53 27.3,-15.88 43.49,-15.88l45.55,0c0,-5.35 2.05,-9.54 5.09,-12.71c3.07,-3.2 7.08,-5.35 12.18,-5.35l104.25,0c5.12,0 9.14,2.15 12.18,5.35c3.04,3.17 5.09,7.36 5.09,12.71l45.55,0c16.19,0 30.33,5.35 43.49,15.88c13.16,10.57 20.21,24.3 24.23,41.21l27.3,124.64l-35.45,0l-25.3,-117.25c-2.09,-8.42 -6.1,-14.76 -12.18,-20.11c-6.1,-5.31 -13.16,-8.39 -21.19,-8.39l-45.55,0c0,5.31 -2.09,9.54 -5.12,12.71c-3.04,3.17 -7.05,5.35 -12.18,5.35l-106.18,0c-5.12,0 -9.14,-2.18 -12.18,-5.35c-3.04,-3.17 -5.12,-7.4 -5.12,-12.71l-45.55,0c-8.04,0 -15.21,3.17 -21.19,8.39c-5.98,5.35 -10,12.71 -11.96,21.23z">
                </path>
                <path fill="currentColor" d="m691.19,64.93c0,-35.04 29.23,-63.55 65.17,-63.55l162.88,0l0,127.06c0,17.59 14.57,31.76 32.57,31.76l130.31,0l0,285.91c0,35.01 -29.23,63.51 -65.14,63.51l-260.62,0c-35.94,0 -65.17,-28.5 -65.17,-63.51l0,-111.2l177.25,0l-39.71,38.71c-9.59,9.35 -9.59,24.42 0,33.67c9.56,9.22 25.04,9.32 34.5,0l81.44,-79.44c9.59,-9.32 9.59,-24.42 0,-33.64l-81.44,-79.41c-9.56,-9.32 -25.04,-9.32 -34.5,0c-9.46,9.32 -9.59,24.42 0,33.64l39.71,38.71l-177.25,0.1l0,-222.33zm0,222.33l0,47.65l-105.89,0c-13.52,0 -24.42,-10.63 -24.42,-23.81c0,-13.21 10.9,-23.84 24.42,-23.84l105.89,0zm390.93,-158.82l-130.31,0l0,-127.06l130.31,127.06z">
                </path>
                <text font-family="Arial" font-size="340px">
	                <tspan font-weight="bold" fill="currentColor" x="120" y="460" style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1">(CSV)</tspan>
                </text>
            </svg>            <!-- <i class="far fa-file-import fa-fw" aria-hidden="true"></i> Font Awesome fontawesome.com -->
        </span>
    </button>
</div>

<?php
